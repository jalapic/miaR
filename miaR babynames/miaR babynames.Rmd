---
title: "babynames"
output:
  word_document: default
  pdf_document: default
  html_document: default
---
In this blog, I will be working with ... INTRODUCE data

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

The first step is to load necessary packages and the data.

```{r, warning = FALSE, message = FALSE}
library(tidyverse)
library(gridExtra)

load("/Users/mia/Downloads/babynames.rda")
head(babynames)
```

Now for a little bit of data carpentry. 
First, I narrowed down the criteria that I wanted to work with by using filter(). I chose to work with babynames from the year 2002 â€” my birth year. 
After this, I am essentially creating a separate M and F column instead of having a sex column, where each name has an M and F row.

```{r}
df <- babynames %>% 
  filter(year == 2002) %>%
  group_by(name, sex) %>%
  summarize(total = sum(n)) %>%
  pivot_wider(
  names_from = sex, values_from = total, values_fill = 0)
```

I am changing M and F to nM and nF so R does not confuse F with FALSE.
Next, I am adding to the dataset by creating a total column that includes the number of births (both M and F) for every name.

```{r}
colnames(df) <- c("name", "nM", "nF")
df <- df %>% mutate(ratio = nM/nF, total = nM + nF)
```

Creating a function to graph the sex distribution of names over time

```{r}
gg_name <- function(idname = NULL, color1 = NULL, color2 = NULL) {
  p <- ggplot(babynames %>% filter(name==idname),
              aes(x=year, y=n, color=sex)) +
    geom_line(color1="hotpink", color1="darkblue") +
    ggtitle(idname) +
    scale_color_manual(values=c(color1,color2))
  return(p)
}

grid.arrange(
  gg_name("Mia", color1 = "hotpink", color2 = "darkblue"),
  gg_name("James", color1 = "hotpink", color2 = "darkblue"),
  gg_name("Jolie", color1 = "hotpink", color2 = "darkblue"),
  gg_name("Tyler", color1 = "hotpink", color2 = "darkblue"),
  gg_name("Maddie", color1 = "hotpink", color2 = "darkblue")
  )
```

Trying to graph percentages


